<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Pixel Game</title>

  <!-- Pixel font -->
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      background-color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
      font-family: 'Press Start 2P', monospace;
    }

    #game-container {
      position: relative;
      z-index: 1;
    }

    canvas {
      display: block;
      border: 2px solid white;
    }

    #tent-popup {
      display: none;
      position: absolute;
      top: 100px;
      left: 100px;
      background: white;
      padding: 10px;
      border: 2px solid black;
      z-index: 10;
      font-family: 'Press Start 2P', monospace;
    }

    #dialogue-box {
      display: none;
      position: absolute;
      bottom: 50px;
      left: 50%;
      transform: translateX(-50%);
      background: #111;
      border: 4px solid #fff;
      color: #fff;
      font-size: 14px;
      padding: 16px;
      max-width: 600px;
      text-align: center;
      image-rendering: pixelated;
      z-index: 10;
    }
  </style>
</head>

  <!-- Start Screen -->
<div id="start-screen" style="
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: url('./img/WildrangeStartScreen.png') no-repeat center center;
  background-size: cover;
  z-index: 9999;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  image-rendering: pixelated;
">

  <!-- Start Button -->
  <img src="./img/StartButton.png" width="300" height="120" onclick="startGame()" style="cursor: pointer; margin-bottom: 40px;" />

  <!-- Instructions Button -->
  <img src="./img/InstructionsButton.png" width="300" height="120" onclick="openInstructions()" style="cursor: pointer;" />
</div>

<!-- Instructions Popup -->
<div id="instructions-popup" style="
  display: none;
  position: absolute;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  z-index: 10000;
  image-rendering: pixelated;
">
  <img src="./img/Instructions.png" style="width: 900px; height: auto; display: block;">

  <!-- Close Button -->
  <div style="
    position: absolute;
    bottom: -70px;
    left: 50%;
    transform: translateX(-50%);
  ">
    <img src="./img/CloseButton.png" width="300" height="120" onclick="closeInstructions()" style="cursor: pointer;">
  </div>
</div>
  
<body style="
  margin: 0;
  background-color: black;
  height: 100vh;
  font-family: 'Press Start 2P', monospace;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  position: relative;
">

  <div id="game-container">
    <canvas></canvas>

    <!-- HUD for marbles and flag -->
    <div id="hud" style="
        position: absolute;
        top: 20px;
        left: 20px;
        z-index: 100;
        font-family: 'Press Start 2P', monospace;
        font-size: 14px;
        color: white;
        display: flex;
        align-items: center;
        gap: 20px;
        image-rendering: pixelated;
    ">
        <div id="marble-display" style="display: flex; align-items: center;">
            <img src="./img/Marble.png" width="30" height="30" />
            <span id="marble-count" style="margin-left: 10px;">x 0</span>
        </div>

        <div id="flag-display" style="display: none; align-items: center;">
            <img src="./img/Flag.png" width="30" height="30" />
            <span style="margin-left: 10px;">x 1</span>
        </div>
    </div>
  </div>

  <!-- Tent Selection Popup -->
    <div id="tent-popup" style="
        display: none;
        position: absolute;
        top: 80px;
        left: 50%;
        transform: translateX(-50%);
        z-index: 15;
        image-rendering: pixelated;
        ">
        <!-- Popup frame background -->
        <img src="./img/PopUpCatalogueV1.png" alt="Tent Popup Frame" style="width: 800px; height: auto; display: block;">

        <!-- Tent image buttons -->
        <div style="
            position: absolute;
            top: 165px;
            left: 165px;
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            column-gap: 165px;
            row-gap: 60px;
            ">
            <img src="./img/TentBlue.png" width="150" height="130" onclick="changeTent('blue')" style="cursor: pointer;">
            <img src="./img/TentGreen.png" width="150" height="130" onclick="changeTent('green')" style="cursor: pointer;">
            <img src="./img/TentOrange.png" width="150" height="130" onclick="changeTent('orange')" style="cursor: pointer;">
            <img src="./img/TentPink.png" width="150" height="130" onclick="changeTent('pink')" style="cursor: pointer;">
        </div>
    </div>


  <!-- NPC Dialogue box -->
  <div id="dialogue-box">
    Armie: Hats! Hats! Come get your hats here!
  </div>

    <!-- Hat Selection Popup -->
    <div id="hat-popup" style="
    display: none;
    position: absolute;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 15;
    image-rendering: pixelated;
    ">
    <!-- Popup frame background -->
    <img src="./img/PopUpCatalogueV1.png" alt="Hat Popup" style="width: 800px; height: auto; display: block;">

    <!-- Hat image buttons -->
    <div style="
        position: absolute;
        top: 165px;
        left: 165px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        column-gap: 165px;
        row-gap: 60px;
    ">
        <img src="./img/BlackHat.png" width="150" height="130" onclick="setHat('black')" style="cursor: pointer;">
        <img src="./img/BlueHat.png" width="150" height="130" onclick="setHat('blue')" style="cursor: pointer;">
        <img src="./img/GreenHat.png" width="150" height="130" onclick="setHat('green')" style="cursor: pointer;">
        <img src="./img/PinkHat.png" width="150" height="130" onclick="setHat('pink')" style="cursor: pointer;">
    </div>
    <div style="
        position: absolute;
        top: 550px;
        left: 250px;
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        column-gap: 165px;
        row-gap: 60px;
    ">
     <img src="./img/RemoveButton.png" width="300" height="120" onclick="removeHat()" style="cursor: pointer;">
    </div>
    </div>

   <!-- Jacket Selection Popup -->
   <div id="jacket-popup" style="
   display: none;
   position: absolute;
   top: 80px;
   left: 50%;
   transform: translateX(-50%);
   z-index: 15;
   image-rendering: pixelated;
   ">
   <!-- Popup frame background -->
   <img src="./img/PopUpCatalogueV1.png" alt="Jacket Popup" style="width: 800px; height: auto; display: block;">

   <!-- Hat image buttons -->
   <div style="
       position: absolute;
       top: 165px;
       left: 165px;
       display: grid;
       grid-template-columns: repeat(2, 1fr);
       column-gap: 165px;
       row-gap: 60px;
   ">
       <img src="./img/Jackets/BlackJacket.png" width="150" height="130" onclick="setJacket('black')" style="cursor: pointer;">
       <img src="./img/Jackets/BlueJacket.png" width="150" height="130" onclick="setJacket('blue')" style="cursor: pointer;">
       <img src="./img/Jackets/GreenJacket.png" width="150" height="130" onclick="setJacket('green')" style="cursor: pointer;">
       <img src="./img/Jackets/PinkJacket.png" width="150" height="130" onclick="setJacket('pink')" style="cursor: pointer;">
   </div>
   <div style="
       position: absolute;
       top: 550px;
       left: 250px;
       display: grid;
       grid-template-columns: repeat(2, 1fr);
       column-gap: 165px;
       row-gap: 60px;
   ">
    <img src="./img/RemoveButton.png" width="300" height="120" onclick="removeJacket()" style="cursor: pointer;">
   </div>
   </div>

    <!-- Rock Paper Scissors Popup -->
    <div id="rps-popup" style="
        display: none;
        position: absolute;
        top: 150px;
        left: 50%;
        transform: translateX(-50%);
        width: 600px;
        height: 300px;
        background: transparent;
        z-index: 20;
        image-rendering: pixelated;
    ">

    <!-- Frame image -->
    <img src="./img/RPS/RPSFrame.png" style="position: absolute; width: 100%; height: 100%; pointer-events: none;">

    <!-- RPS buttons -->
    <div style="
    position: absolute;
    top: 130px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    gap: 60px;
    ">
    <img src="./img/RPS/Rock.png" width="100" height="100" onclick="chooseRPS('rock')" style="cursor: pointer;">
    <img src="./img/RPS/Paper.png" width="100" height="100" onclick="chooseRPS('paper')" style="cursor: pointer;">
    <img src="./img/RPS/Scissors.png" width="100" height="100" onclick="chooseRPS('scissors')" style="cursor: pointer;">
    </div>

    <!-- Result Text -->
    <div id="rps-result" style="
    position: absolute;
    bottom: 180px;
    left: 50%;
    transform: translateX(-50%);
    width: 250%;
    font-family: monospace;
    font-size: 25px;
    color: black;
    text-align: center;
    white-space: pre-line;
    "></div>

    <!-- Close Button -->
    <!-- <button onclick="closeRPSPopup()" style="
    position: absolute;
    bottom: -60px;
    left: 150%;
    transform: translateX(-50%);
    font-size: 20px;
    font-family: monospace;
    cursor: pointer;
    ">Close</button> -->

    <div style="
    position: absolute;
    top: 250px;
    left: 160px;
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    column-gap: 165px;
    row-gap: 60px;
    ">
    <img src="./img/CloseButton.png" width="300" height="120" onclick="closeRPSPopup()" style="cursor: pointer;">
    </div>
    </div>

   <!-- Number Game Popup -->
    <div id="number-popup" style="
        display: none;
        position: absolute;
        top: 150px;
        left: 50%;
        transform: translateX(-50%);
        width: 300px;
        height: 240px;
        background: transparent;
        z-index: 20;
        image-rendering: pixelated;
    ">

    <!-- Frame -->
    <img src="./img/RPS/RPSFrame.png" style="position: absolute; width: 100%; height: 100%; pointer-events: none;">

    <!-- Input Field & Button -->
    <div style="
        position: absolute;
        top: 120px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 12px;
    ">
        <input id="number-input" type="number" min="1" max="5" placeholder="1-5"
            style="width: 140px; height: 50px; font-size: 28px; text-align: center;">
        <button onclick="checkNumberAnswer()" style="font-size: 20px; padding: 10px 20px;">Answer</button>
        </div>
    </div>

  <!-- Scripts (order matters: collisions first if it's a data file) -->
  <script src="collisions.js"></script>
  <script src="index.js"></script>

  <!-- Summit Popup -->
    <div id="summit-popup" style="
    display: none;
    position: absolute;
    top: 80px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 20;
    image-rendering: pixelated;
    ">
    <img src="./img/SummitMessage.png" style="width: 900px; height: auto; display: block;">

    <div style="
    position: absolute;
    bottom: -70px;
    left: 50%;
    transform: translateX(-50%);
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    ">
    <div style="display: flex; gap: 10px;">
        <img src="./img/SurveyButton.png" width="305" height="140"
             style="cursor: pointer;" onclick="window.open('https://docs.google.com/forms/d/e/1FAIpQLScwENQlrppqg-y1FkK8MrDp7Nx0e3LyGyyG3qGdjHAUhedrJw/viewform?usp=header', '_blank')" />
        <img src="./img/PlaceFlag.png" width="325" height="140"
             style="cursor: pointer;" onclick="placeFlagAtSummit()" />
      </div>
      <img src="./img/CloseButton.png" width="305" height="140"
           style="cursor: pointer;" onclick="closeSummitPopup()" />
    </div>
</div>
<audio id="bg-music" loop autoplay hidden>
  <source src="./audio/cherry-coke.mp3" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>
</body>
</html>
